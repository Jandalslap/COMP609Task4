<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:COMP609Task4.Pages"
             x:Class="COMP609Task4.Pages.EditPage">

    <Border Stroke="Black" StrokeThickness="1" Padding="10" Margin="10">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="1"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="1"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <Grid Grid.Row="0" BackgroundColor="LightGray" Padding="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Image Source="lms_icon.jpg" 
                       WidthRequest="60" 
                       HeightRequest="60" 
                       VerticalOptions="Center" 
                       HorizontalOptions="Start"/>
                <Label Text="Edit Page" 
                       FontSize="24" 
                       FontAttributes="Bold"
                       VerticalOptions="Center" 
                       HorizontalOptions="Center" 
                       Grid.Column="1"/>
                <!-- Home Button -->
                <Button Text="Home" 
                        BackgroundColor="White" 
                        TextColor="Black"
                        Clicked="Home_Clicked"
                        VerticalOptions="Center" 
                        HorizontalOptions="End"
                        Grid.Column="2"/>
            </Grid>

            <!-- Divider below header -->
            <BoxView Grid.Row="1" HeightRequest="1" Color="Black" HorizontalOptions="FillAndExpand"/>

            <!-- Divider between search ID and form fields -->
            <BoxView Grid.Row="2" HeightRequest="1" Color="Black" HorizontalOptions="FillAndExpand"/>

            <!-- Form fields -->
            <Grid Grid.Row="2" Margin="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackLayout Grid.Column="0" Margin="0,0,10,0">
                    <Label Text="Stock Type:" FontAttributes="Bold" />
                    <Label x:Name="TypeLabel" Text="Type" VerticalOptions="Center"/>
                </StackLayout>

                <StackLayout Grid.Column="1" Margin="0,0,10,0">
                    <Label Text="Stock ID:" FontAttributes="Bold" />
                    <Label x:Name="IdLabel" Text="ID" VerticalOptions="Center"/>
                </StackLayout>

                <StackLayout Grid.Column="2" Margin="0,0,10,0">
                    <Label Text="Colour" FontAttributes="Bold" />
                    <Label x:Name="ColourLabel" VerticalOptions="Center"/>
                </StackLayout>

                <StackLayout Grid.Column="3" Margin="0,0,10,0">
                    <Label Text="Cost" FontAttributes="Bold" />
                    <Entry x:Name="CostEntry" Placeholder="Cost"/>
                </StackLayout>

                <StackLayout Grid.Column="4" Margin="0,0,10,0">
                    <Label Text="Weight" FontAttributes="Bold" />
                    <Entry x:Name="WeightEntry" Placeholder="Weight"/>
                </StackLayout>

                <!-- New column for Produce -->
                <StackLayout Grid.Column="5" x:Name="ProduceStackLayout" BindingContext="{Binding}">
                    <Label x:Name="ProduceLabel" Text="Milk" FontAttributes="Bold" VerticalOptions="Center"/>
                    <Entry x:Name="ProduceEntry" Placeholder="Produce"/>
                </StackLayout>

                <!-- New column for Update and Delete buttons -->
                <StackLayout Grid.Column="6" Orientation="Horizontal" VerticalOptions="Start">
                    <!-- Update Button -->
                    <Button Text="Update" Clicked="Update_Clicked" CommandParameter="{Binding .}"/>
                    <!-- Delete Button -->
                    <Button Text="Delete" Clicked="Delete_Clicked" CommandParameter="{Binding .}"/>
                </StackLayout>

            </Grid>

            <Grid Grid.Row="3" Margin="10">

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <!-- New column for Update and Delete buttons -->
                <StackLayout Grid.Column="6" Orientation="Horizontal" VerticalOptions="Start">
                    <!-- Update Button -->
                    <Button Text="Add New Stock" Clicked="AddNewStock_Clicked" HorizontalOptions="Center" Margin="0,10"/>
                </StackLayout>
            </Grid>

            <!-- Divider above footer -->
            <BoxView Grid.Row="3" HeightRequest="1" Color="Black" HorizontalOptions="FillAndExpand"/>

            <!-- Footer -->
            <StackLayout Grid.Row="4" Orientation="Horizontal" VerticalOptions="End" HorizontalOptions="CenterAndExpand" Spacing="10" Margin="0,10,0,10">
                <Button Text="Back" Clicked="Back_Clicked"/>
            </StackLayout>
        </Grid>
    </Border>

</ContentPage>
